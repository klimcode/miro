!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.emailsEditor=t():e.emailsEditor=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";t.css=n(1),t.cx=n(2)},function(e,t,n){"use strict";e.exports=function(){throw new Error('Using the "css" tag in runtime is not supported. Make sure you have set up the Babel plugin correctly.')}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var r="wuij0is",i="w5kkd3q",o="cjqbp84",u="c1qb0ztd",a="i11p4u47";function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(3),n.d(t,"default",(function(){return g}));var p={onChange:function(){}},s=/ *, *| +/,d=/(\d+)\b/,m=/\S+@\S+\.\S+/,h=m.test.bind(m),v=function(e){return e.split(s)},y=function(e,t,n,r){var i=document.createElement(t);return n&&(i.className=n),r&&r(i),e&&e.appendChild(i),i};function b(e){var t,n,s=this,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{},e),b=m.container,g=void 0===b?document.body:b,j=m.emails,O=m.onChange,E=!1;return this.renderAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=new Map;var r=n;n=s.createWrap();var i=v(e.join(" "));i.forEach((function(e){e&&!t.get(e)&&t.set(e,s.createChip(n,e))})),n.appendChild(s.inputWrap),E?g.replaceChild(n,r):(g.appendChild(n),E=!0)},this.createWrap=function(){return y("","span",r,(function(e){y(e,"span",i,(function(e){e.onmousedown=function(e){e.preventDefault(),s.inputElem.focus()}}))}))},this.createChip=function(e,t){var n=h(t),r=y(e,"span",o+(n?"":" "+u),(function(e){e.textContent=t,y(e,"i","",(function(e){e.addEventListener("click",s.onClickDelete),e.dataset.email=t}))}));return r.isValid=n,r},this.createInput=function(){s.inputWrap=y("","span",a);var e=y(s.inputWrap,"i"),t=y(s.inputWrap,"input"),n=function(n){return t.value=e.textContent=n},r=function(e){e&&"add more people…"!==e&&(s.append(e),n(""))};n("add more people…"),t.onfocus=function(){return n("")},t.onpaste=function(){return setTimeout((function(){return r(t.value)}),5)},t.onblur=function(e){var t=e.target;r(t.value),n("add more people…")},t.onkeydown=function(t){var n=t.key,i=t.target;"Enter"===n||","===n?(t.preventDefault(),r(i.value)):e.innerText=i.value},s.inputElem=t},this.getEmails=function(){if(E)return Array.from(t.keys())},this.getCount=function(){if(E)return Array.from(t.keys()).reduce((function(e,t){return h(t)?e+1:e}),0)},this.append=function(e){if(E&&e){var r=v(e);if(r[0]){var i=document.createDocumentFragment();r.forEach((function(e){e&&!t.get(e)&&t.set(e,s.createChip(i,e))})),n.insertBefore(i,s.inputWrap),O(s.getEmails())}}},this.appendRandom=function(){if(E){var e=function(e){var t,n,r=0;if(e.forEach((function(e){if(h(e)){var i=l(e.split("@"),2),o=i[0],u=i[1],a=l(o.split(d),2),c=a[0],f=a[1],p=Number(f||1);p>r&&(r=p,t=c,n=u)}})),!t)return"blank@blank.ru";var i="".concat(t).concat(r+1);return"".concat(i,"@").concat(n)}(s.getEmails()),r=document.createDocumentFragment(),i=s.createChip(r,e);t.set(e,i),n.insertBefore(i,s.inputWrap),O(s.getEmails())}},this.deleteEmail=function(e){if(E){var r=t.get(e);r&&(n.removeChild(r),t.delete(e),O(s.getEmails()))}},this.onClickDelete=function(e){var t=e.target;return s.deleteEmail(t.dataset.email)},this.destroy=function(){E&&(t=void 0,g.removeChild(n),E=!1)},this.createInput(),this.renderAll(j),this}function g(e){var t=new b(e);return Object.defineProperty(this,"emails",{get:t.getEmails,set:t.renderAll}),this.getCount=t.getCount,this.append=t.append,this.appendRandom=t.appendRandom,this.deleteEmail=t.deleteEmail,this.destroy=t.destroy,this}}])}));